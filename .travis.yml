language: python
python:
- '2.7'
install:
- python setup.py bdist
- pip install .
script: cxmanage --help
before_deploy:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- export GIT_TAG=`python -c 'import cxmanage_api.__init__; print cxmanage_api.__init__.__version__'`
- export GIT_TAG=$GIT_TAG.Build$TRAVIS_BUILD_NUMBER
- echo $GIT_TAG
#- git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
#- git push -q https://$TAGPERM@github.com/SilverLiningSystems/cxmanage-test --tags
- ls dist/ -R
notifications:
  slack:
    secure: kJShCNMzboCvKYNAXU0hLjq487yYHoUBLdaNdhyFwt5qdA92ZhCJ+SePThVGFyy000y0ChjHSW9lwDce3vP/9O+WY7CD6qsjufLcm1UITe8osDegOtuc2xhNG9LUwv7EhZUtOoUS/zlCh5xNnIy1EbAY3fDWzlg2xQTijANf/IY8TNiwaHGH3x6wiC8ysDAT76oYto7u7DddR8wCDBvT0Ublhvh/01ZGRZcloHDpM6twMlOqveFChxZIibJinbEi72z1xMhyw59GBWUey31hD/etDNjBlzn23N/XuYvpW04zZoDoEdnf3Wx5LZf3c0G7AiKkynX6lZIYBK785VHNv3XeGx5/Jqxov1GZA1Gfo853P/hOLpMJcdpMNCMjyBm8jdAUPwwWYAZmpPaNMgkPljXXchvmd5BO9PDh3QCt5KeFXCMesD0/ZH/FkPLFaierbem8xN8pnjshdiVPOVhs4Znth+lvtBKUbJetztUSGL3NKm9mPIphs2Bn4x5YY2YL9XjgML9kT2zS3qWP8iEpwYXGfm1QH7Gj9Wx6YBD7Io/l675/Vg46zwSlJcNJGCcvBeD/BEKni1x23T659oVGTIFN3+pwXhvz9+FLPj+mwQ1lmpU147K3BHOLR69pJMJQ6tMFOXMy64JTXNkZ6ngn8fHYdVr+xHEzdOH6kw2t4lE=
deploy:
  skip_cleanup: true
  provider: releases
  api_key:
    secure: R9FLRkDEMy5I+P2tBgTzKGsqiwJ7woDMwTqHrssUAl3pbHX6BdLyjBqtviQptzOO6meMIvzHJoIxy0ZfUQGC8jQFBdfgm6J1/tipd0c5PByMF38OMj5knLSMnsQYMduGOgTbaGdbi6CrdqCMpWQ+ZZp1Zq4bP+rqmp0iBc/AnO6USm2HSZeuUSC9mGR4A5YRYMmFKZ1DxdDg7gvLgYd4NeOder0krpw+UGeFnWwEvVNUTIdX0OU7lJdf0xElerMCX/aB5wPY+n/tKYbIp8pjzBx3729EwaM6JP4CrI6GxB8THbX/AYCA04v36QhBqMNwGraODUhG6ew2U1q7toMW7DtQDCxdQgGQ5eq6X3DjoSsNkwvkRjaPBD+cAQUXOkxKaDslEyGKjHhIESdIv7GMbyMSVuoyNS4f4UiDZH3q9XFK6rDSjyBRl8aJGHlDOUeuqmJ/Yy3mcJLeqbUT71MEhq0WVcmi6nOBHa7SwvHExBAXWAX+LJ6IROALTQRdUplNpU7Da8gJwYIE8cvJL/XgrFG59lqVgFMmR32wPTsy7HNqMKTZxrN0lEdkNkT5zCi/I4aFc9biIOzVEMAHPfuX9XTLQ3ORlIZE7H22x9W4NL6njdPqlVRqpzdTQABTleC7M4eu4SMZNufvQ2CELTOEWck/u8uzwrn3hO0doTKABWs=
  file: dist/cxmanage-0.11.0.linux-x86_64.tar.gz
  on:
    repo: SilverLiningSystems/cxmanage-test
